# ðŸ“Š DAX Measures â€“ FreshMart Analytics (Power BI)

This document contains all DAX measures used in the FreshMart Analytics project.  
Measures are grouped by table for clarity, with explanations for each.

---

## ðŸ“¦ Products Table

**Total Revenue**  
Sum of all product sales across customers and campaigns.

```DAX
Total Revenue =
SUM ( Products[Total Sales] )
```

## ðŸŽ¯ Campaign Table        

**Total Campaign Acceptances**             
Counts the total number of campaign acceptances across all customers.

```DAX
Total Campaign Acceptances =
SUM ( Campaign[Accepted_Indicator] )
```

**Campaign Acceptance Rate**      
Percentage of offers accepted across all campaigns.

```DAX
Campaign Acceptance Rate =
DIVIDE ( [Total Campaign Acceptances], COUNTROWS ( Campaign ), 0 )
```

**Best Campaign**       
Identifies the campaign with the highest revenue. Replaces underscores with spaces for readability.

```DAX
Best Campaign =
VAR CampaignSales =
    SUMMARIZE (
        VALUES ( Campaign[Campaign] ),
        Campaign[Campaign],
        "Revenue", [Total Revenue]
    )
VAR TopCampaign =
    TOPN ( 1, CampaignSales, [Revenue], DESC )
VAR CampaignName = MAXX ( TopCampaign, Campaign[Campaign] )
RETURN
    SUBSTITUTE ( CampaignName, "_", " " )
```
    
**Best Campaign Sales**          
Returns the revenue generated by the top-performing campaign. Uses Accepted_Indicator = 1 for filtering.

```DAX
Best Campaign Sales =
VAR CampaignSales =
    SUMMARIZE (
        VALUES ( Campaign[Campaign] ),
        Campaign[Campaign],
        "Revenue",
            CALCULATE (
                [Total Revenue],
                KEEPFILTERS ( Campaign[Accepted_Indicator] = 1 )
            )
    )
VAR TopCampaign =
    TOPN ( 1, CampaignSales, [Revenue], DESC )
RETURN
    MAXX ( TopCampaign, [Revenue] )
```
    
## ðŸ‘¥ Market Research Table

**Average Revenue per Customer**           
Calculates average revenue contributed by each distinct customer.

```DAX
Average Revenue per Customer =
DIVIDE ( [Total Revenue], DISTINCTCOUNT ( marketing_research_data[ID] ), 0 )
```

**Avg Household Size (Dependents)**           
Average number of kids and teens living at home per customer.

```DAX
Avg Household Size =
DIVIDE (
    SUM ( marketing_research_data[Kidhome] ) +
    SUM ( marketing_research_data[Teenhome] ),
    DISTINCTCOUNT ( marketing_research_data[ID] ),
    0
)
```

**Complaints %**          
Percentage of customers who complained in the last 2 years.

```DAX
Complaints % =
DIVIDE (
    COUNTROWS ( FILTER ( marketing_research_data, marketing_research_data[Complain] = 1 ) ),
    DISTINCTCOUNT ( marketing_research_data[ID] ),
    0
)
```

**Top Country**            
Returns the country with the highest number of customers.

```DAX
Top Country =
VAR CountryCounts =
    SUMMARIZE (
        marketing_research_data,
        marketing_research_data[Country],
        "CustomerCount", COUNTROWS ( marketing_research_data )
    )
VAR TopOne =
    TOPN ( 1, CountryCounts, [CustomerCount], DESC )
RETURN
    MAXX ( TopOne, marketing_research_data[Country] )
```
    
## âœ… Validation Notes**
Total Revenue â†’ should equal the sum of all product sales.

Best Campaign Sales â†’ should match the revenue of the top campaign in the bar chart (with same filters applied).

Average Revenue per Customer â†’ should also match:
```DAX
AVERAGEX ( VALUES ( marketing_research_data[ID] ), CALCULATE ( [Total Revenue] ) )
```
Complaints % â†’ with 21 complaints out of 2240 customers, this should equal â‰ˆ0.94% (format as %). 
Sum of all product sales across customers and campaigns.

